<% provide(:title, "Transactions" ) %>

<h1>Transactions</h1>

<table class="table table-hover">
  <thead>
    <tr>
      <th>Date</th>
      <th>User</th>
      <th>Amount</th>
      <th>Status</th>
      <th>Type</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @transactions.each do |transaction| %>
      <tr>
        <td><%= transaction.created_at.strftime("%b %e, %Y") %></td>
        <td><%= transaction.user.name %>
        <td><%= number_to_currency transaction.amount %></td>
        <td><%= transaction.status_string %></td>
        <td><%= transaction.transaction_type_string %></td>

        <td>
          <% if transaction.pending? %>
            <%= link_to admin_transaction_path(transaction), method: :patch, class: "btn btn-primary btn-xs" do %>
              <i class="glyphicon glyphicon-ok"></i>
              Approve
            <% end %>
          <% end %>
        </td>
    <% end %>
  </tbody>
</table>
