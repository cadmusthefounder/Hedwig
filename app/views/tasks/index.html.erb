<% provide(:title, 'All tasks') %>

<h1>All tasks</h1>

<%= will_paginate @tasks %>

<ul class="tasks">
  <% @tasks.each do |task| %>
    <p>
      From Address: <%= task.from_address %>,
      From Postal Code: <%= task.to_postal_code %>,
      To Address: <%= task.to_address %>,
      To Postal Code: <%= task.to_postal_code %>,
      Price: <%= task.price %>,
      Status: <%= task.status %>

      <% unless task.interested_users.include?(current_user) || task.user == current_user %>
        <%= button_to "Express Interest", task_express_interest_task_path(task), method: :post, form: {style: "display:inline-block;"} %>
      <% end %>
    </p>
  <% end %>
</ul>

<%= will_paginate @tasks %>
